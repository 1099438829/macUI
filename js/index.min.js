window.Macui={_version:"v1.1.2.5",_debug:!0,_bgs:{main:"",mobile:""},_wallpaperBlur:!0,_countTask:0,_newMsgCount:0,_animated_classes:[],_animated_liveness:0,_switchMenuTooHurry:!1,_lang:"unknown",_iframeOnClick:{resolution:200,iframes:[],interval:null,Iframe:function(){this.element=arguments[0],this.cb=arguments[1],this.hasTracked=!1},track:function(element,cb){if(this.iframes.push(new this.Iframe(element,cb)),!this.interval){let _this=this;this.interval=setInterval((function(){_this.checkClick()}),this.resolution)}},checkClick:function(){if(document.activeElement){let activeElement=document.activeElement;for(let i in this.iframes){let eid=void 0;!(eid=this.iframes[i].element.id)||document.getElementById(eid)?activeElement===this.iframes[i].element?!1===this.iframes[i].hasTracked&&(this.iframes[i].cb.apply(window,[]),this.iframes[i].hasTracked=!0):this.iframes[i].hasTracked=!1:delete this.iframes[i]}}}},_iframe_click_lock_children:{},_renderBar:function(){if(this._countTask<=0)return;let btns;$("#mac_btn_group_middle>.btn").css("width","calc("+1/this._countTask*100+"% - 1px )")},_handleReady:[],_hideShortcut:function(){let that=$("#mac #mac-shortcuts .shortcut");that.removeClass("animated flipInX"),that.addClass("animated flipOutX")},_showShortcut:function(){let that=$("#mac #mac-shortcuts .shortcut");that.removeClass("animated flipOutX"),that.addClass("animated flipInX")},_checkBgUrls:function(){let loaders=$("#mac>.img-loader"),flag=!1;if(Macui.isSmallScreen()){if(Macui._bgs.mobile&&(loaders.each((function(){let loader=$(this);loader.attr("src")===Macui._bgs.mobile&&loader.hasClass("loaded")&&(Macui._setBackgroundImg(Macui._bgs.mobile),flag=!0)})),!flag)){let img=$('<img class="img-loader" src="'+Macui._bgs.mobile+'" />');$("#mac").append(img),Macui._onImgComplete(img[0],(function(){img.addClass("loaded"),Macui._setBackgroundImg(Macui._bgs.mobile)}))}}else if(Macui._bgs.main&&(loaders.each((function(){let loader=$(this);loader.attr("src")===Macui._bgs.main&&loader.hasClass("loaded")&&(Macui._setBackgroundImg(Macui._bgs.main),flag=!0)})),!flag)){let img=$('<img class="img-loader" src="'+Macui._bgs.main+'" />');$("#mac").append(img),Macui._onImgComplete(img[0],(function(){img.addClass("loaded"),Macui._setBackgroundImg(Macui._bgs.main)}))}Macui._wallpaperBlur&&$(".background").addClass("blur")},loadScript:function(url,callback){let el=document.createElement("script");el.type="text/javascript",void 0!==callback&&(el.readyState?el.onreadystatechange=function(){"loaded"!==el.readyState&&"complete"!==el.readyState||(el.onreadystatechange=null,callback())}:el.onload=function(){callback()}),el.src=url,document.head.appendChild(el)},_startAnimate:function(){setInterval((function(){let classes_length=Macui._animated_classes.length,animated_live_ness=Macui._animated_liveness;0!==animated_live_ness&&0!==classes_length&&$("#mac-menu").hasClass("opened")&&$("#mac-menu>.blocks>.menu_group>.block").each((function(){if(!$(this).hasClass("onAnimate")&&Math.random()<=animated_live_ness){let that=$(this),class_animate=Macui._animated_classes[Math.floor(Math.random()*classes_length)];that.addClass("onAnimate"),setTimeout((function(){that.addClass(class_animate),setTimeout((function(){that.removeClass("onAnimate"),that.removeClass(class_animate)}),3e3)}),2*Math.random()*1e3)}}))}),1e3)},_onImgComplete:function(img,callback){if(!img)return;let timer=setInterval((function(){img.complete&&(callback(img),clearInterval(timer))}),50)},_setBackgroundImg:function(img){$("#mac .background").css("background-image","url("+img+")")},_settop:function(layero){isNaN(layero)||(layero=this.getLayeroByIndex(layero));let max_zindex=0;$(".mac-open-iframe").each((function(){z=parseInt($(this).css("z-index")),$(this).css("z-index",z-1),z>max_zindex&&(max_zindex=z)})),layero.css("z-index",max_zindex+1)},_checkTop:function(){let max_index=0,max_z=0,btn=null;$("#mac_btn_group_middle .btn.show").each((function(){let index=$(this).attr("index"),layero,z=Macui.getLayeroByIndex(index).css("z-index");z>max_z&&(max_index=index,max_z=z,btn=$(this))})),this._settop(max_index),$("#mac_btn_group_middle .btn").removeClass("active"),btn&&btn.addClass("active")},_renderContextMenu:function(x,y,menu,trigger){if(this._removeContextMenu(),!0===menu)return;let dom=$("<div class='mac-context-menu'><ul></ul></div>");$("#mac").append(dom);let ul=dom.find("ul");for(let i=0;i<menu.length;i++){let item=menu[i];if("|"!==item)if("string"!=typeof item){if("object"==typeof item){let sub=$("<li>"+item[0]+"</li>");ul.append(sub),sub.click(trigger,item[1])}}else ul.append($("<li>"+item+"</li>"));else ul.append($("<hr/>"))}x+150>document.body.clientWidth&&(x-=150),y+dom.height()>document.body.clientHeight&&(y-=dom.height()),dom.css({top:y,left:x})},_removeContextMenu:function(){$(".mac-context-menu").remove()},_closeWin:function(index){$("#mac_"+index).remove(),layer.close(index),Macui._checkTop(),Macui._countTask--,Macui._renderBar()},_fixWindowsHeightAndWidth:function(){let opens=$(".mac-open-iframe"),clientHeight=document.body.clientHeight;opens.each((function(){let layero_opened=$(this),height=layero_opened.css("height");height=parseInt(height.replace("px","")),height+30>=clientHeight&&(layero_opened.css("height",clientHeight-30),layero_opened.find(".layui-layer-content").css("height",clientHeight-62),layero_opened.find(".layui-layer-content iframe").css("height",clientHeight-62))}))},_bind_open_windows:function(){$("#mac").on("click",".mac-open-window",(function(){if($this=$(this),""!==$this.data("url")){let title=$this.data("title")||"",areaAndOffset,icon,bg=$this.data("icon-bg")?$this.data("icon-bg"):"";$this.data("icon-image")&&(icon='<img class="icon '+bg+'" src="'+$this.data("icon-image")+'"/>'),$this.data("icon-font")&&(icon='<i class="fa fa-fw fa-'+$this.data("icon-font")+" icon "+bg+'"></i>'),title||1!==$this.children(".icon").length||1!==$this.children(".title").length||(title=$this.children(".title").html(),icon||(icon=$this.children(".icon").prop("outerHTML"))),$this.data("area-offset")&&(areaAndOffset=$this.data("area-offset"),-1!==areaAndOffset.indexOf(",")&&(areaAndOffset=eval(areaAndOffset))),Macui.openUrl($this.data("url"),icon,title,areaAndOffset)}}))},_init:function(){this._lang=(navigator.language||navigator.browserLanguage).toLowerCase(),$("#mac_btn_win").click((function(){Macui.commandCenterClose(),Macui.menuToggle()})),$("#mac_btn_command").click((function(){Macui.renderCommand(),Macui.menuClose(),Macui.commandCenterToggle()})),$("#mac .desktop").click((function(){Macui.menuClose(),Macui.commandCenterClose()})),$("#mac").on("click",".notice .btn_close_msg",(function(){let msg=$(this).parents(".notice");$(msg).addClass("animated slideOutRight"),setTimeout((function(){msg.remove()}),500)})),$("#mac .launchpad").click((function(){console.log($(this)),$("#launchpad").hasClass("hidden")?(Macui.renderLaunchpad(),Macui.menuClose(),Macui.commandCenterClose()):Macui.closeLaunchpad()})),$("#mac_command_center").on("click",".command-header div",(function(){$(this).hasClass("active")||($(this).hasClass("tab-today")?($(this).parent().siblings(".msgs").hide().siblings(".today").show(),$(this).addClass("active").siblings("div").removeClass("active")):($(this).parent().siblings(".today").hide().siblings(".msgs").show(),$(this).addClass("active").siblings("div").removeClass("active")))})),$("#mac_btn_command_center_clean_all").click((function(){let msgs=$("#mac_command_center .msg");msgs.addClass("animated slideOutRight"),setTimeout((function(){msgs.remove()}),1500),setTimeout((function(){Macui.commandCenterClose()}),1e3)})),$("#mac_btn_show_desktop").click((function(){$("#mac .desktop").click(),Macui.hideWins()})),$("#mac-menu-switcher").click((function(){if(Macui._switchMenuTooHurry)return;Macui._switchMenuTooHurry=!0;let class_name="mac-menu-hidden",list=$("#mac-menu>.list"),blocks=$("#mac-menu>.blocks"),toggleSlide=function(obj){obj.hasClass(class_name)?(obj.addClass("animated slideInLeft"),obj.removeClass("animated slideOutLeft"),obj.removeClass(class_name)):(setTimeout((function(){obj.addClass(class_name)}),450),obj.addClass("animated slideOutLeft"),obj.removeClass("animated slideInLeft"))};toggleSlide(list),toggleSlide(blocks),setTimeout((function(){Macui._switchMenuTooHurry=!1}),520)})),$("#mac_btn_group_middle").click((function(){$("#mac .desktop").click()})),$(document).on("click",".mac-btn-refresh",(function(){let index=$(this).attr("index"),iframe=Macui.getLayeroByIndex(index).find("iframe");iframe.attr("src",iframe.attr("src"))})),$(document).on("mousedown",".mac-open-iframe",(function(){let layero=$(this);Macui._settop(layero),Macui._checkTop()})),$("#mac_btn_group_middle").on("click",".btn_close",(function(){let index=$(this).parent().attr("index");Macui._closeWin(index)})),$("#mac-menu .list").on("click",".item",(function(){let e=$(this);for(e.hasClass("has-sub-down")&&($("#mac-menu .list .item.has-sub-up").toggleClass("has-sub-down").toggleClass("has-sub-up"),$("#mac-menu .list .sub-item").slideUp()),e.next().hasClass("sub-item")&&e.toggleClass("has-sub-down").toggleClass("has-sub-up");e.next().hasClass("sub-item");)e.next().slideToggle(),e=e.next()})),setInterval((function(){let myDate=Macui.getLunarObj();$("#mac_btn_time").html(myDate.weekDay+myDate.hour+":"+myDate.minute)}),1e3),document.body.onbeforeunload=function(event){let rel=Macui.lang("系统可能不会保存您所做的更改","The system may not save the changes you have made.");window.event?window.event.returnValue=rel:event.returnValue=rel},Macui.buildList(),Macui._startAnimate(),Macui.renderShortcuts(),$("#mac-shortcuts").removeClass("shortcuts-hidden"),Macui._showShortcut(),Macui.renderDocks(),$(window).resize((function(){Macui.renderShortcuts(),Macui._checkBgUrls(),Macui.isSmallScreen()||Macui._fixWindowsHeightAndWidth(),Macui.renderDocks()})),setTimeout((function(){console.log(Macui.lang("本页由Mac-UI强力驱动\n更多信息：https://mac.apecloud.cn \nMac-UI,轻松打造别具一格的后台界面 ","The page is strongly driven by Mac-UI.\nFor more info: https://mac.apecloud.cn.\n Mac-UI, easy to create a unique background interface."))}),2e3),$(document).click((function(event){event.button||Macui._removeContextMenu()})),$(document).on("contextmenu",".mac-context-menu",(function(e){e.preventDefault(),e.stopPropagation()})),Macui.setContextMenu("#mac",!0),Macui.setContextMenu("#mac>.desktop",[['<i class="fa fa-fw fa-star"></i> 收藏本页',function(){let url=window.location,title=document.title,ua=navigator.userAgent.toLowerCase();if(ua.indexOf("360se")>-1)layer.alert(Macui.lang("您的浏览器不支持,请按 Ctrl+D 手动收藏!","Your browser does not support, please press Ctrl+D to manual collection!"));else if(ua.indexOf("msie 8")>-1)window.external.AddToFavoritesBar(url,title);else if(document.all)try{window.external.addFavorite(url,title)}catch(e){layer.alert(Macui.lang("您的浏览器不支持,请按 Ctrl+D 手动收藏!","Your browser does not support, please press Ctrl+D to manual collection!"))}else window.sidebar?window.sidebar.addPanel(title,url,""):layer.alert(Macui.lang("您的浏览器不支持,请按 Ctrl+D 手动收藏!","Your browser does not support, please press Ctrl+D to manual collection!"))}],['<i class="fa fa-fw fa-window-maximize"></i> '+Macui.lang("进入全屏","Enable Full Screen"),function(){Macui.enableFullScreen()}],['<i class="fa fa-fw fa-window-restore"></i> '+Macui.lang("退出全屏","Disable Full Screen"),function(){Macui.disableFullScreen()}],"|",['<i class="fa fa-fw fa-info-circle"></i> '+Macui.lang("关于","About Us"),function(){Macui.aboutUs()}]]),Macui.setContextMenu("#mac_btn_group_middle",[['<i class="fa fa-fw fa-window-maximize"></i> '+Macui.lang("全部显示","Show All Windows"),function(){Macui.showWins()}],['<i class="fa fa-fw fa-window-minimize"></i> '+Macui.lang("全部隐藏","Hide All Windows"),function(){Macui.hideWins()}],['<i class="fa fa-fw fa-window-close"></i> '+Macui.lang("全部关闭","Close All Windows"),function(){Macui.closeAll()}]]),setInterval((function(){let btn=$("#mac-msg-nof.on-new-msg");btn.length>0&&btn.toggleClass("fa-commenting-o")}),600),$("body").keyup((function(e){if(e.ctrlKey)switch(e.keyCode){case 37:$("#mac_btn_win").click();break;case 38:Macui.showWins();break;case 39:$("#mac_btn_command").click();break;case 40:Macui.hideWins()}})),$("#launchpad .app-serach-box").on("click",(function(e){e.stopPropagation(),$(this).find(".input-search").on("input propertychange",(function(e){var searchName=$(this).val();""===searchName?$("#app-shortcuts .shortcut").show():$("#app-shortcuts .shortcut").each((function(){var appName;-1!==$(this).children(".title").text().toLowerCase().indexOf(searchName.toLowerCase())?$(this).show():$(this).hide()}))}))})),$("#mac-desktop-scene").length<1&&($("#mac-shortcuts").css({position:"absolute",left:0,top:30,"z-index":100}),$("#mac .desktop").append("<div id='mac-desktop-scene' style='width: 100%;height: 100%;position: absolute;left: 0;top: 0; z-index: 0;background-color: transparent;'></div>")),Macui._bind_open_windows()},setBgUrl:function(bgs){this._bgs=bgs,this._checkBgUrls()},setBg:function(bgs){this._bgs=bgs,this._checkBgUrls()},menuClose:function(){$("#mac-menu").removeClass("opened").addClass("hidden"),this._showShortcut(),$(".mac-open-iframe").removeClass("hide")},getLunarObj:function(){let lunarInfo=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42448,83315,21200,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46496,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,21952,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19415,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448],Animals=["鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"],Gan=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],Zhi=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"];function lYearDays(y){let i,sum=348;for(i=32768;i>8;i>>=1)sum+=lunarInfo[y-1900]&i?1:0;return sum+leapDays(y)}function leapDays(y){return leapMonth(y)?65536&lunarInfo[y-1900]?30:29:0}function leapMonth(y){return 15&lunarInfo[y-1900]}function monthDays(y,m){return lunarInfo[y-1900]&65536>>m?30:29}function Lunar(objDate){let i,leap=0,temp=0,baseDate,offset=(objDate-new Date(1900,0,31))/864e5;for(this.dayCyl=offset+40,this.monCyl=14,i=1900;i<2050&&offset>0;i++)temp=lYearDays(i),offset-=temp,this.monCyl+=12;for(offset<0&&(offset+=temp,i--,this.monCyl-=12),this.year=i,this.yearCyl=i-1864,leap=leapMonth(i),this.isLeap=!1,i=1;i<13&&offset>0;i++)leap>0&&i===leap+1&&!1===this.isLeap?(--i,this.isLeap=!0,temp=leapDays(this.year)):temp=monthDays(this.year,i),!0===this.isLeap&&i===leap+1&&(this.isLeap=!1),offset-=temp,!1===this.isLeap&&this.monCyl++;0===offset&&leap>0&&i===leap+1&&(this.isLeap?this.isLeap=!1:(this.isLeap=!0,--i,--this.monCyl)),offset<0&&(offset+=temp,--i,--this.monCyl),this.month=i,this.day=offset+1}function get_lunar_month(month){let fm;return["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","腊月"][month-1]}function get_lunar_day(day){let fd=["十","一","二","三","四","五","六","七","八","九","十"];return day<=10?"初"+fd[day]:day<20?"十"+fd[day-10]:20===day?"二十":day<30?"廿"+fd[day-20]:"三"+fd[day-30]}function get_ganzhi(year){let num=year-1900+36;return Gan[num%10]+Zhi[num%12]}function get_animal(year){return Animals[(year-4)%12]}function get_weekday(date){let values;return["周日","周一","周二","周三","周四","周五","周六"][date.getDay()]}function get_week(date){let values;return["星期日","星期一","星期二","星期三","星期四","星期五","星期六"][date.getDay()]}function get_min(date){let mins=date.getMinutes();return mins<10&&(mins="0"+mins),mins}function get_hour(date){let hour=date.getHours(),hours;return hours=hour<6?"凌晨"+hour:hour<9?"早上"+hour:hour<12?"上午"+hour:hour<14?"中午"+(hour-12):hour<17?"下午"+(hour-12):hour<19?"傍晚"+(hour-12):hour<22?"晚上"+(hour-12):"深夜"+(hour-12),hours}let viewdate={},date=new Date;viewdate.second=date.getSeconds(),viewdate.minute=get_min(date),viewdate.hour=get_hour(date),viewdate.day=date.getDate(),viewdate.week=get_week(date),viewdate.weekDay=get_weekday(date),viewdate.month=date.getMonth()+1,viewdate.fullYear=date.getFullYear(),viewdate.year=date.getYear();let lunar_obj=new Lunar(date);viewdate.lunarmonth=get_lunar_month(lunar_obj.month);let lunar_day=Math.floor(lunar_obj.day);return viewdate.lunarday=get_lunar_day(lunar_day),viewdate.lunar=lunar_obj.year+"-"+lunar_obj.month+"-"+lunar_day,viewdate.ganzhi=get_ganzhi(lunar_obj.year),viewdate.animal=get_animal(lunar_obj.year),viewdate},renderLaunchpad:function(){$("#launchpad").removeClass("hidden").addClass("show").show(),$("#mac-shortcuts").addClass("shortcuts-hidden"),this.renderDocks()},closeLaunchpad:function(){$("#launchpad").removeClass("show").addClass("hidden").hide()},renderCommand:function(todayHtml=null){let active;if(!$("#mac_command_center .command-body.today").hasClass("active")){if(!todayHtml){let lunarDate=Macui.getLunarObj();todayHtml='<div class="command-body-calendar">\n\t<div class="command-body-calendar-date normal-date">'+lunarDate.month+"月"+lunarDate.day+"日 \n"+lunarDate.week+'</div>\n\t<div class="command-body-calendar-date lunar-date">'+lunarDate.ganzhi+"年"+lunarDate.lunarmonth+lunarDate.lunarday+'</div>\n</div>\n<div class="notice">\t<div class="notice-header">\t\t<span class="notice-header-icon"><img src="./img/icon/weather.png" class="notice-header-icon-img" /></span>\n\t\t<span class="notice-header-title">天气</span>\n\t</div>\n\t<div class="notice-body">\n\t<iframe scrolling="no" src="https://widget-page.qweather.net/h5/index.html?md=012&bg=1&lc=auto&key=4008bf181b5e4f349b2e516909430bf2&v=_1640448982399" frameborder="0" width="100%" height="400px" allowtransparency="true"></iframe>\n\t</div>\n</div>\n'}$("#mac_command_center .command-body.today").html(todayHtml).addClass("active")}},menuOpen:function(){$("#mac-menu").addClass("opened").removeClass("hidden"),$(".mac-open-iframe").addClass("hide")},menuToggle:function(){$("#mac-menu").hasClass("opened")?this.menuClose():this.menuOpen()},commandCenterClose:function(){$("#mac_command_center").addClass("hidden_right"),this._showShortcut(),$(".mac-open-iframe").removeClass("hide")},commandCenterOpen:function(){$("#mac_command_center").removeClass("hidden_right"),$(".mac-open-iframe").addClass("hide"),$("#mac-msg-nof").removeClass("on-new-msg fa-commenting-o")},renderShortcuts:function(){if(this.isSmallScreen()){let w=parseInt(($("#mac #mac-shortcuts")[0].offsetWidth-10)/82),x=0,y=0;$("#mac #mac-shortcuts .shortcut").each((function(){$(this).css({left:82*x+10,right:0,top:100*y+10}),x++,x>=w&&(x=0,y++)}))}else{let h=parseInt(($("#mac #mac-shortcuts")[0].offsetHeight-90)/100),w=0,x=0,y=0;$("#mac #mac-shortcuts .shortcut").each((function(){$(this).css({right:82*x+10,left:"auto",top:100*y+10}),y++,y>=h&&(y=0,x++)}))}},renderDocks:function(){let cell_width=50,width=document.body.clientWidth,docks=$("#dock .dock-container a"),max_num=parseInt((width-10)/50);for(let i=0;i<=docks.length;i++)i>=max_num?docks.eq(i).hide():docks.eq(i).show();this.isSmallScreen()?($("#dock .dock-container").css("width",width),docks.on("mouseover mousemove mouseout",(function(e){e.stopPropagation()})).css("width",50).off("mouseover mousemove mouseout")):$("#dock").Fisheye({maxWidth:70,items:"a",itemsText:"span",container:".dock-container",itemWidth:50,proximity:80,alignment:"left",valign:"bottom",halign:"center"})},commandCenterToggle:function(){$("#mac_command_center").hasClass("hidden_right")?this.commandCenterOpen():this.commandCenterClose()},newMsg:function(title,content,handle_click,app_name="提示消息",app_icon='<img src="./img/icon/weather.png" class="notice-header-icon-img" />',is_del=!0){let msg='<div class="notice"><div class="notice-header"><span class="notice-header-icon">'+app_icon+'</span><span class="notice-header-title">'+app_name+"</span>";is_del&&(msg+='<span class="btn_close_msg fa fa-times-circle"></span>'),msg+='</div><div class="notice-body"><div class="msg"><div class="title">'+title+'</div><div class="content">'+content+"</div></div></div></div>";let e=$(msg);$("#mac_command_center .msgs").prepend(e),e.find(".content:first,.title:first").click((function(){handle_click&&handle_click(e)})),layer.tips(Macui.lang("新消息:","New message:")+title,"#mac_btn_command",{tips:[1,"rgba(0, 0, 0, 0.7)"],time:3e3}),$("#mac_command_center").hasClass("hidden_right")&&$("#mac-msg-nof").addClass("on-new-msg")},getLayeroByIndex:function(index){return $("#layui-layer"+index)},isSmallScreen:function(size){let width;return size||(size=768),document.body.clientWidth<size},enableFullScreen:function(){let docElm=document.documentElement;docElm.requestFullscreen?docElm.requestFullscreen():docElm.mozRequestFullScreen?docElm.mozRequestFullScreen():docElm.webkitRequestFullScreen?docElm.webkitRequestFullScreen():docElm.msRequestFullscreen&&document.body.msRequestFullscreen()},disableFullScreen:function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},buildList:function(){$("#mac-menu .list .sub-item").slideUp(),$("#mac-menu .list .item").each((function(){$(this).next().hasClass("sub-item")&&($(this).addClass("has-sub-down"),$(this).removeClass("has-sub-up"))}))},openUrl:function(url,icon,title,areaAndOffset){if(this._countTask>12)return layer.msg("您打开的太多了，歇会儿吧~"),!1;let preg,area,offset;if(this._countTask++,url||(url="404"),url=url.replace(/(^\s*)|(\s*$)/g,""),/^(https?:\/\/|\.\.?\/|\/\/?)/.test(url)||(url="http://"+url),url||(url="//yuri2.cn"),title||(title=url),this.isSmallScreen()||"max"===areaAndOffset)area=["100%",document.body.clientHeight-24+"px"],offset=["24px","0"];else if("object"==typeof areaAndOffset)area=areaAndOffset[0],offset=areaAndOffset[1];else{let topset,leftset;area=["80%","80%"],topset=parseInt($(window).height()),topset=(topset-.8*topset)/2-31,leftset=parseInt($(window).width()),leftset=(leftset-.8*leftset)/2-120,offset=[Math.round(this._countTask%10*20+topset)+"px",Math.round(this._countTask%10*20+100+leftset)+"px"]}let index=layer.open({type:2,shadeClose:!0,shade:!1,maxmin:!0,title:icon+title,content:url,area:area,offset:offset,isOutAnim:!1,skin:"mac-open-iframe",cancel:function(index,layero){$("#mac_"+index).remove(),Macui._checkTop(),Macui._countTask--,Macui._renderBar()},min:function(layero){return layero.hide(),$("#mac_"+index).removeClass("show"),Macui._checkTop(),!1},full:function(layero){layero.find(".layui-layer-min").css("display","inline-block"),layero_opened.css("top",24)}});$("#mac_btn_group_middle .btn.active").removeClass("active");let btn=$('<div id="mac_'+index+'" index="'+index+'" class="btn show active"><div class="btn_title">'+icon+"</div></div>"),layero_opened=Macui.getLayeroByIndex(index);return layero_opened.css("z-index",Macui._countTask+813),Macui._settop(layero_opened),layero_opened.find(".layui-layer-setwin").prepend('<a class="mac-btn-refresh" index="'+index+'" href="#"></a>'),layero_opened.find(".layui-layer-setwin>a").each((function(){$(this).prependTo(layero_opened.find(".layui-layer-setwin"))})),layero_opened.find(".layui-layer-setwin .layui-layer-max").click((function(){setTimeout((function(){let height=layero_opened.css("height");height=parseInt(height.replace("px","")),height>=document.body.clientHeight&&(layero_opened.css("height",height-25),layero_opened.find(".layui-layer-content").css("height",height-55),layero_opened.find(".layui-layer-content iframe").css("height",height-55))}),300)})),$("#mac_btn_group_middle").append(btn),Macui._renderBar(),btn.click((function(){let index=$(this).attr("index"),layero=Macui.getLayeroByIndex(index),settop=function(){let max_zindex=0;$(".mac-open-iframe").each((function(){z=parseInt($(this).css("z-index")),$(this).css("z-index",z-1),z>max_zindex&&(max_zindex=z)})),layero.css("z-index",max_zindex+1)};$(this).hasClass("show")?$(this).hasClass("active")?($(this).removeClass("active"),$(this).removeClass("show"),Macui._checkTop(),layero.hide()):($("#mac_btn_group_middle .btn.active").removeClass("active"),$(this).addClass("active"),Macui._settop(layero)):($(this).addClass("show"),$("#mac_btn_group_middle .btn.active").removeClass("active"),$(this).addClass("active"),Macui._settop(layero),layero.show())})),Macui._iframeOnClick.track(layero_opened.find("iframe:first")[0],(function(){0===Object.getOwnPropertyNames(Macui._iframe_click_lock_children).length?(Macui._settop(layero_opened),Macui._checkTop()):console.log("click locked")})),this.menuClose(),this.commandCenterClose(),this.closeLaunchpad(),index},closeAll:function(){$(".mac-open-iframe").remove(),$("#mac_btn_group_middle").html(""),Macui._countTask=0,Macui._renderBar()},setAnimated:function(animated_classes,animated_liveness){this._animated_classes=animated_classes,this._animated_liveness=animated_liveness},exit:function(){layer.confirm(Macui.lang("确认要关闭本页吗?","Are you sure you want to close this page?"),{icon:3,title:Macui.lang("提示","Prompt")},(function(index){document.body.onbeforeunload=function(){},window.location.href="about:blank",window.close(),layer.close(index),layer.alert(Macui.lang("哎呀,好像失败了呢。","Ops...There seems to be a little problem."),{skin:"layui-layer-lan",closeBtn:0})}))},lang:function(cn,en){return"zh-cn"===this._lang||"zh-tw"===this._lang?cn:en},aboutUs:function(){layer.open({type:1,closeBtn:1,anim:2,skin:"mac-open-iframe",title:"MAC-UI "+this._version,shadeClose:!0,area:["320px","200px"],content:'<div style="padding: 10px;font-size: 12px"><p>支持组件:layer、jquery、animated.css、font-awesome</p><p>木子的忧伤、尤里2号©版权所有</p><p>作者邮箱:1099438829@qq.com</p></div>'})},setContextMenu:function(jq_dom,menu){"string"==typeof jq_dom&&(jq_dom=$(jq_dom)),jq_dom.unbind("contextmenu"),jq_dom.on("contextmenu",(function(e){menu&&(Macui._renderContextMenu(e.clientX,e.clientY,menu,this),e.cancelable&&(e.defaultPrevented||e.preventDefault()),e.stopPropagation())}))},hideWins:function(){$("#mac_btn_group_middle>.btn.show").each((function(){let index=$(this).attr("index"),layero=Macui.getLayeroByIndex(index);$(this).removeClass("show"),$(this).removeClass("active"),layero.hide()}))},showWins:function(){$("#mac_btn_group_middle>.btn").each((function(){let index=$(this).attr("index"),layero=Macui.getLayeroByIndex(index);$(this).addClass("show"),layero.show()})),Macui._checkTop()},getDesktopScene:function(){return $("#mac-desktop-scene")},onReady:function(handle){Macui._handleReady.push(handle)}},$((function(){Macui._init();for(let i in Macui._handleReady){let handle;(0,Macui._handleReady[i])()}}));